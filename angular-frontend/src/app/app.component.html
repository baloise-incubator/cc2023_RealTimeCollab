<bal-app class="has-sticky-footer">
  <header>
    <!-- Header content -->
    <bal-navbar interface="app">
      <bal-navbar-brand></bal-navbar-brand>
      <bal-navbar-menu>
        <bal-navbar-menu-start></bal-navbar-menu-start>
        <bal-navbar-menu-end>
          <bal-tag-group>
            <bal-popover *ngFor="let user of users" arrow hover tooltip :active="isActive">
              <bal-tag [color]="user.color" bal-popover-trigger aria-haspopup="true" aria-describedby="tooltip">{{ user.name.at(0) }}</bal-tag>
              <bal-popover-content>{{ user.name }}</bal-popover-content>
            </bal-popover>
          </bal-tag-group>
        </bal-navbar-menu-end>
      </bal-navbar-menu>
    </bal-navbar>
  </header>
  <main class="container">
    <!-- Your application content -->
    <bal-heading space="all">Hello Websockets!</bal-heading>
    <app-check-in *ngIf="!client.active" (onCheckin)="onConnectToBackend($event)"></app-check-in>
    <bal-card *ngIf="client.active && !client.connected">
      <bal-card-content class="is-flex is-align-items-center is-flex-direction-column is-justify-content-center">
          <bal-spinner class="my-medium"></bal-spinner>
          <bal-heading level="h5" space="all">Please wait...</bal-heading>
      </bal-card-content>
    </bal-card>
    <div *ngIf="client.connected">
      <bal-button-group>
        <bal-button color="success" square icon="plus" (click)="onBuyStock()"></bal-button>
      </bal-button-group>
      <bal-card *ngIf="stock">
        <bal-badge [color]="stock.increased ? 'success' : 'danger'" position="card">{{stock.increased ? "▲" :
          "▼"}}</bal-badge>
        <bal-card-content>
          <div class="is-flex is-justify-content-center is-align-items-center">
            <img style="max-width: 88px" [src]="stock.icon" alt="Stock Logo" />
            <div class="is-flex-grow-1 px-x-small">
              <bal-heading title level="h4" space="none">
                {{ stock.name }}
              </bal-heading>
              <p>
                Is trading a the price of CHF {{ stock.price }}
              </p>
            </div>
            <bal-button-group>
              <bal-button color="success" square icon="plus" (click)="onBuyStock()"></bal-button>
            </bal-button-group>
            <div class="mx-small"><bal-tag>now</bal-tag></div>
          </div>
        </bal-card-content>
      </bal-card>
    </div>
  </main>
  <bal-footer>
    <!-- Footer content -->
  </bal-footer>
</bal-app>